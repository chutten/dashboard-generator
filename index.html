<!DOCTYPE html>
<html>
<head>

<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<title>Telemetry Dashboard Generator</title>
<link rel="stylesheet" href="style.css"/>

<script src="https://telemetry.mozilla.org/v2/telemetry.js"></script>
<script src="generator.js"></script>
</head>
<body>
<header>
  <p>Welcome to the Telemetry Dashboard Generator! Just choose your options and watch as we craft a dashboard to your exacting specifications.</p>
  <p>Like what you see, but not quite? Don't worry: we'll give you a live, editable preview you can customize before you're done.</p>
  <p>So what are you waiting for? Let's get started!</p>
</header>
<main>
  <label for="channel">Channel:</label>
  <select id="channel">
    <!-- populated by script on load -->
  </select>
  <label for="version">Version:</label>
  <select id="version">
    <!-- populated by script on #channel.onchange -->
  </select>
  <label for="metric">Metric:</label>
  <!-- USE A DATALIST!!! -->
  <input id="metric" list="metrics"/>
  <datalist id="metrics">
    <!-- populated by script on #version.onchange -->
  </datalist>
  <!-- Filters are a pain to do using form controls
     - so force users to use the editor -->
  <label for="use-submission-date">Use Submission Date:</label>
  <input type="checkbox" id="use-submission-date"/>
  <label for="sanitize">Sanitize:</label>
  <input type="checkbox" id="sanitize" checked/>
  <label for="trim">Trim:</label>
  <input type="checkbox" id="trim" checked/>
  <!-- you'd think compare'd be just as much of a pain as filter
     - but we only need to present the filter keys, not the values, so meh -->
  <label for="compare">Compare:</label>
  <select id="compare"> <!-- remember to disable if evoVersions is > 0 -->
    <!-- populated by script on #version.onchange -->
  </select>
  <label for="sensible-compare">Sensible Compare:</label>
  <input type="checkbox" id="sensible-compare" checked/> <!-- remember to disable if evoVersions > 0 -->
  <label for="evo-versions">Versions for Evolution:</label>
  <input type="number" id="evo-versions" value="0"/>
  <button id="add">Add to Dashboard</button>
  <table class="dashboard-plots" cellspacing="0">
    <thead>
      <tr>
        <th>Channel</th>
        <th>Version</th>
        <th>Metric</th>
        <th>Use Submission Date</th>
        <th>Sanitize</th>
        <th>Trim</th>
        <th>Compare</th>
        <th>Sensible Compare</th>
        <th>Versions for Evolution</th>
      </tr>
    </thead>
    <tbody class="dashboard-plots-body">
    </tbody>
  </table>
  <form action="http://codepen.io/pen/define" method="POST" target="_blank">
    <input id="post-data" type="hidden" name="data"/>
    <button id="generate" type="submit" disabled>Generate Dashboard</button>
  </form>
</main>
</body>
</html>
